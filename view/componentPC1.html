<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title></title>
</head>
<body>
<div id="app">
    <p>{{total}}</p>
    <button v-on:click="divideFun">平分总数</button><br>
    <button-counter v-on:increment="incrementTotal" v-bind:divide="divideNum"></button-counter>
    <button-counter v-on:increment="incrementTotal" v-bind:divide="divideNum"></button-counter>
</div>
<script type="text/javascript" src='../core/vue.js'></script>
<script type="text/javascript">
    var componentBtn = {
        props:['divide'],
        template:'<button v-on:click="increment">{{counter}}</button>',
        // data:function(){return { counter:this.divide }},
        methods:{
            increment:function(){
                this.counter += 1;
                this.$emit('increment');
            }
        }
    }
    var vm = new Vue({
        el:'#app',
        data:{
            total:0,
            divideNum:0
        },
        components:{
            'button-counter': componentBtn
        },
        methods:{
            incrementTotal:function(){
                this.total += 1
            },
            divideFun:function(){
                this.divideNum = (this.total)/2;
            }
        }
    })
</script>
</body>
</html>